var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,l=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&a(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&a(e,o,t[o]);return e};import{a as i,q as c,aa as u,p as f,w as d}from "./index.446d454d.js";import{B as g,D as p,F as h,J as m,a5 as v,L as b,W as C,Z as y,_ as H,bq as F,r as x,u as $,R as w,br as j,Q as P,j as S,o as O,$ as R,a0 as _,aD as k,ar as W,a4 as B,aC as E,aS as L,a9 as D,ac as I,K as q,a3 as A,ab as N}from "./vendor.4c4242b5.js";/* empty css              *//* empty css              */import{u as T}from "./useWindowSizeFn.d8bc0d08.js";import{a as z}from "./useContentViewHeight.cec819c9.js";var J=g({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=i("page-footer"),{getCalcContentWidth:t}=c();return{prefixCls:e,getCalcContentWidth:t}}});J.render=function(e, t, o, n, r, s){return p(),h("div",{class:b(e.prefixCls),style:C({width:e.getCalcContentWidth})},[m("div",{class:b(`${e.prefixCls}__left`)},[v(e.$slots,"left",{},void 0,!0)],2),v(e.$slots,"default",{},void 0,!0),m("div",{class:b(`${e.prefixCls}__right`)},[v(e.$slots,"right",{},void 0,!0)],2)],6)},J.__scopeId="data-v-4a29b7a0";function K(e){let t;y((()=>{e(),H((()=>{t=!0}))})),F((()=>{t&&e()}))}function M(e, t, o, n, r=x(0)){const s=x(null),{footerHeightRef:a}=z();let l={useLayoutFooter:!0};function i(e){return null==e?null:e instanceof HTMLDivElement?e:e.$el}function c(){return c=this,f=null,d=function*(){if(!e.value)return;yield H();const c=i($(t));if(!c)return;const{bottomIncludeBody:f}=u(c);let d=0;o.forEach((e=>{var t,o;d+=null!=(o=null==(t=i($(e)))?void 0:t.offsetHeight)?o:0}));let g=0;n.forEach((e=>{g+=function(e){var t,o;let n=0;const r="0px";let s=r,a=r;if(e){const n=getComputedStyle(e);s=null!=(t=null==n?void 0:n.marginBottom)?t:r,a=null!=(o=null==n?void 0:n.marginTop)?o:r}return s&&(n+=Number(s.replace(/[^\d]/g,""))),a&&(n+=Number(a.replace(/[^\d]/g,""))),n}(i($(e)))}));let p=f-$(a)-$(r)-d-g;const h=()=>{var e;null==(e=l.elements)||e.forEach((e=>{var t,o;p+=null!=(o=null==(t=i($(e)))?void 0:t.offsetHeight)?o:0}))};l.useLayoutFooter&&$(a),h(),s.value=p},new Promise(((e, t)=>{var o= e=>{try{r(d.next(e))}catch(o){t(o)}},n= e=>{try{r(d.throw(e))}catch(o){t(o)}},r= t=>t.done?e(t.value):Promise.resolve(t.value).then(o,n);r((d=d.apply(c,f)).next())}));var c,f,d}return K((()=>{H((()=>{c()}))})),T((()=>{c()}),50,{immediate:!0}),w((()=>[a.value]),(()=>{c()}),{flush:"post",immediate:!0}),{redoHeight:function(){H((()=>{c()}))},setCompensation: e=>{l=e},contentHeight:s}}var Q=g({name:"PageWrapper",components:{PageFooter:J,PageHeader:j},inheritAttrs:!1,props:{title:f.string,dense:f.bool,ghost:f.bool,content:f.string,contentStyle:{type:Object},contentBackground:f.bool,contentFullHeight:f.bool,contentClass:f.string,fixedHeight:f.bool},setup(e, {slots:n,attrs:r}){const s=x(null),a=x(null),c=x(null),u=x(null),{prefixCls:f}=i("page-wrapper");P(Z,S((()=>e.fixedHeight)));const d=S((()=>e.contentFullHeight)),{redoHeight:g,setCompensation:p,contentHeight:h}=M(d,s,[a,u],[c]);p({useLayoutFooter:!0,elements:[u]});const m=S((()=>{var t;return[f,{[`${f}--dense`]:e.dense},null!=(t=r.class)?t:{}]})),v=S((()=>(null==n?void 0:n.leftFooter)||(null==n?void 0:n.rightFooter))),b=S((()=>Object.keys(O(n,"default","leftFooter","rightFooter","headerContent")))),C=S((()=>{const{contentFullHeight:n,contentStyle:r,fixedHeight:s}=e;if(!n)return l({},r);const a=`${$(h)}px`;return l((i=l({},r),t(i,o({minHeight:a}))),s?{height:a}:{});var i})),y=S((()=>{const{contentBackground:t,contentClass:o}=e;return[`${f}-content`,o,{[`${f}-content-bg`]:t}]}));return w((()=>[v.value]),(()=>{g()}),{flush:"post",immediate:!0}),{getContentStyle:C,wrapperRef:s,headerRef:a,contentRef:c,footerRef:u,getClass:m,getHeaderSlots:b,prefixCls:f,getShowFooter:v,omit:O,getContentClass:y}}});Q.render=function(e, t, o, n, r, s){const a=R("PageHeader"),l=R("PageFooter");return p(),h("div",{class:b(e.getClass),ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(p(),_(a,A({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),k({default:B((()=>[e.content?(p(),h(D,{key:0},[I(q(e.content),1)],64)):v(e.$slots,"headerContent",{key:1})])),_:2},[W(e.getHeaderSlots,(t=>({name:t,fn:B((o=>[v(e.$slots,t,E(L(o||{})))]))})))]),1040,["ghost","title"])):N("",!0),m("div",{class:b(["overflow-hidden",e.getContentClass]),style:C(e.getContentStyle),ref:"contentRef"},[v(e.$slots,"default")],6),e.getShowFooter?(p(),_(l,{key:1,ref:"footerRef"},{left:B((()=>[v(e.$slots,"leftFooter")])),right:B((()=>[v(e.$slots,"rightFooter")])),_:3},512)):N("",!0)],2)},d(J);const V=d(Q),Z="PageWrapperFixedHeight";export{V as P,Z as a,K as o};
