var r;import{B as e,r as o,R as t,_ as s,n as a,$ as i,D as n,F as d,a9 as l,ar as u,G as m,H as c,w as p,u as f,a4 as j,ac as b,K as x}from "./vendor.4c4242b5.js";import{_ as g}from "./DetailModal.vue_vue&type=script&setup=true&lang.ac28c4ba.js";import{u as y,_ as v}from "./useTable.1153f980.js";import{_ as h}from "./useForm.bb6fa296.js";import{u as w}from "./index.ae2ab368.js";import{ai as _,e as E,aj as L}from "./index.446d454d.js";import{getColumns as R}from "./data.db9dbf9d.js";import"./index.440a9e9b.js";/* empty css              */import"./index.b86de47c.js";/* empty css              *//* empty css              */import"./useWindowSizeFn.d8bc0d08.js";import"./useContentViewHeight.cec819c9.js";/* empty css              *//* empty css              *//* empty css              */import"./uuid.5e4d726a.js";/* empty css              */import"./useSortable.8f01f022.js";/* empty css              *//* empty css              *//* empty css              */import"./index.d48332d7.js";import"./download.b1d83379.js";import"./index.4400f2f0.js";(r||(r={})).Error="/error";const C={class:"p-4"},k=["src"];var D=e({setup(e){const D=o(),T=o([]),{t:A}=E(),F=L(),[H,{setTableData:I}]=y({title:A("sys.errorLog.tableTitle"),columns:R(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[M,{openModal:P}]=w();function S(r){D.value=r,P(!0)}function V(){throw new Error("fire vue error!")}function $(){T.value.push(`${(new Date).getTime()}.png`)}function z(){return e=this,o=null,t=function*(){yield _.get({url:r.Error})},new Promise(((r, s)=>{var a= r=>{try{n(t.next(r))}catch(e){s(e)}},i= r=>{try{n(t.throw(r))}catch(e){s(e)}},n= e=>e.done?r(e.value):Promise.resolve(e.value).then(a,i);n((t=t.apply(e,o)).next())}));var e,o,t}return t((()=>F.getErrorLogInfoList),(r=>{s((()=>{I(a(r))}))}),{immediate:!0}),(r, e)=>{const o=i("a-button");return n(),d("div",C,[(n(!0),d(l,null,u(T.value,(r=>m((n(),d("img",{key:r,src:r},null,8,k)),[[c,!1]]))),128)),p(g,{info:D.value,onRegister:f(M)},null,8,["info","onRegister"]),p(f(v),{onRegister:f(H),class:"error-handle-table"},{toolbar:j((()=>[p(o,{onClick:V,type:"primary"},{default:j((()=>[b(x(f(A)("sys.errorLog.fireVueError")),1)])),_:1}),p(o,{onClick:$,type:"primary"},{default:j((()=>[b(x(f(A)("sys.errorLog.fireResourceError")),1)])),_:1}),p(o,{onClick:z,type:"primary"},{default:j((()=>[b(x(f(A)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:j((({record:r})=>[p(f(h),{actions:[{label:f(A)("sys.errorLog.tableActionDesc"),onClick:S.bind(null,r)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{D as default};
