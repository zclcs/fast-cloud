var e=(e,s,t)=>new Promise(((o,a)=>{var i=e=>{try{n(t.next(e))}catch(s){a(s)}},r=e=>{try{n(t.throw(e))}catch(s){a(s)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(i,r);n((t=t.apply(e,s)).next())}));import{B as s,b as t}from "./index.ae2ab368.js";import{f as o,g as a}from "./useForm.bb6fa296.js";import{a as i}from "./account.data.dcbf1a67.js";import{a as r}from "./user.5f6ebdde.js";import{B as n,r as d,j as m,$ as l,D as c,a0 as u,a4 as p,w as f,a3 as j}from "./vendor.4c4242b5.js";import"./index.446d454d.js";import"./useWindowSizeFn.d8bc0d08.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.d48332d7.js";/* empty css              */import"./uuid.5e4d726a.js";import"./download.b1d83379.js";import"./index.4400f2f0.js";import"./system.78153014.js";var g=n({name:"AccountPasswordModal",components:{BasicModal:s,BasicForm:o},emits:["success"],setup(s, {emit:o}){const n=d(""),[l,{setFieldsValue:c,resetFields:u,validate:p}]=a({labelWidth:100,schemas:i,showActionButtonGroup:!1,actionColOptions:{span:23}}),[f,{setModalProps:j,closeModal:g}]=t((s=>e(this,null,(function*(){u(),j({confirmLoading:!1}),n.value=s,c({username:s})}))));return{registerModal:f,registerForm:l,getTitle:m((()=>"修改密码")),handleSubmit:function(){return e(this,null,(function*(){try{const e=yield p();j({confirmLoading:!0}),yield r(n.value,e.newPassword),g(),o("success",n.value)}finally{j({confirmLoading:!1})}}))}}}});g.render=function(e, s, t, o, a, i){const r=l("BasicForm"),n=l("BasicModal");return c(),u(n,j(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:p((()=>[f(r,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};export{g as default};
